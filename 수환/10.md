# 10장 데이터 소스 아키텍처 패턴
- 데이터 소스 아키텍처 패턴은 애플리케이션과 데이터베이스 간의 상호작용을 추상화하는 방식에 대한 패턴
- 데이터 액세스를 캡슐화하여 재사용성을 높이고, SQL을 분리하여 유지보수를 쉽게 만든다.

## 테이블 데이터 게이트웨이 (Table Data Gateway)
- 데이터베이스의 특정 테이블과 매핑된 객체. 모든 행을 처리하는 하나의 객체가 존재
- 특징
  - SQL이 한 곳에 모여 있어 유지보수가 용이함
  - 데이터 액세스를 단순화하여 개발자가 SQL을 직접 다룰 필요가 없음
  - 보통 find(), update(), insert(), delete() 등의 메서드를 제공
- 단점
  - 객체 지향적인 접근 방식과는 거리가 있음
  - 도메인 모델과의 결합도가 높아질 수 있음

## 로우 데이터 게이트웨이 (Row Data Gateway)
- 데이터베이스의 한 행을 객체로 매핑하는 방식. 각 행마다 하나의 객체가 존재
- 특징
  - 객체 단위로 데이터를 관리할 수 있어 직관적인 코드 작성이 가능
  - 데이터를 개별 객체로 다룰 수 있어 유연성이 높음
- 단점
  - 객체의 수가 많아질 경우 메모리 사용량 증가
  - SQL과 도메인 로직이 섞이면서 유지보수가 어려워질 수 있음
## 액티브 레코드 (Active Record)
- 데이터베이스의 한 행을 객체로 표현하며, 해당 객체가 직접 데이터베이스 작업을 수행하는 방식
- 특징
  - save(), delete() 같은 메서드를 객체가 직접 호출 가능
  - 간결한 코드 작성이 가능하여 빠른 개발이 가능
  - 프레임워크(예: Rails, Django ORM)에서 많이 사용됨
- 단점
  - 복잡한 도메인 로직을 구현하기 어려움
  - 데이터베이스 구조에 강하게 의존하게 됨
## 데이터 매퍼 (Data Mapper)
- 객체와 데이터베이스를 완전히 분리하여, 독립적인 매핑 계층을 제공하는 패턴
- 특징
  - 도메인 모델과 데이터 액세스를 완전히 분리하여 높은 유연성을 제공
  - 다양한 매핑 전략을 적용할 수 있음
  - Hibernate, MyBatis 같은 ORM 프레임워크에서 많이 사용됨
- 단점
  - 설정 및 구현이 복잡하여 초기 학습 비용이 높음
  - 단순한 CRUD 작업에 과도한 복잡성을 초래할 수 있음
## 결론
  - 단순한 CRUD 작업에는 테이블 데이터 게이트웨이나 액티브 레코드가 유용함
  - 도메인 모델이 복잡하거나 확장성이 중요한 경우 데이터 매퍼가 적합함
  - 성능과 유지보수성을 고려하여 애플리케이션의 특성에 맞는 패턴을 선택하는 것이 중요함
