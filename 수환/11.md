# 11장 객체-관계 행동 패턴
- 객체-관계 행동 패턴은 객체와 관계형 데이터베이스 간의 상호작용에서 발생하는 동작을 효과적으로 관리하는 패턴을 다룸
- 데이터 동기화, 객체 참조 관리, 로드 전략 등 데이터 액세스의 성능과 일관성을 유지하는데 도움을 줌

## 작업 단위 (Unit of Work)
- 여러 데이터 변경 작업을 하나의 단위로 묶어 원자성을 유지하는 패턴
- 특징
    - 여러 객체 변경 사항을 하나의 트랜잭션으로 관리 가능
    - 커밋(commit) 전까지 변경 사항을 메모리에 유지하여 성능 향상
    - 변경된 객체만 데이터베이스에 반영하여 불필요한 업데이트를 방지
- 단점
    - 동시성 제어가 필요하여 구현이 복잡할 수 있음
    - 대규모 변경 작업이 있을 경우 메모리 사용량 증가 가능

## 아이덴티티 맵 (Identity Map)
- 동일한 데이터를 메모리에 한 번만 로드하여 중복 객체 생성을 방지하는 패턴
- 특징
    - 동일한 데이터에 대한 중복 객체 생성을 방지하여 메모리 사용량 절약
    - 객체 비교 시 동일한 인스턴스를 참조하도록 보장하여 데이터 일관성 유지
- 단점
    - 관리해야 할 객체가 많아지면 메모리 사용량 증가 가능
    - 잘못된 캐싱으로 인해 데이터 정합성이 깨질 위험 존재

## 지연 로딩 (Lazy Load)
- 객체가 처음 로드될 때 모든 관련 데이터를 즉시 가져오지 않고, 필요할 때 로드하는 전략
- 특징
    - 불필요한 데이터 로드를 방지하여 성능 최적화 가능
    - 실제 데이터가 필요할 때만 조회하여 응답 속도 향상
- 단점
    - 첫 번째 접근 시점에서 추가적인 데이터베이스 호출이 발생하여 응답 시간이 길어질 수 있음
    - 복잡한 쿼리에서 성능 저하가 발생할 가능성이 있음
