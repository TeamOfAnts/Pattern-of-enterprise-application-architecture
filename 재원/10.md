# 데이터 원본 아키텍처 패턴
### 테이블 데이터 게이트웨이
- 일반적으로 상태 비정이며 sql호출을 매핑하고 db연결에 대해 sql을 실행
- 쿼리로부터 정보를 변환하는 방법에느 자료구조 반환, 레코드집합. 데이터 전송 객체, 도메인 모델를 생성하는 방법 등이 있음
- 테이블 모듈과 잘 어울리며 트랜잭션 스크립트와 함께 사용하는 데 적합
- 닷넷에서 많이 쓰는 듯
### 행 데이터 게이트웨이
- 트랜잭션 스크립트를 사용할 때 주로 많이 사용(반대로 도메인 모델 때는 사용하지 않음)
- 주로 자바에서 JDBC Template으로 가져와서 사용하는 방법
### 활성 레코드
- 데이터 접근 논리를 도메인에 넣는다
- db쪽이 아닌 클래스가 주체가 되어 삽입 삭제 등의 과정을 진행한다
### 데이터 매퍼
- 인메모리 객체를 db로부터 분리하는 계층
- 도메인 객체가 검색 메소드를 호출해야 할 수 있는데 지연로드를 잘 설계하면 예방 가능
- 도메인 객체에 데이터 매퍼에 대한 의존성을 추가하는 건 바람직하지 않으며 분리 인터페이스를 이용하여 해결(중복 데이터 유틸같은)
- 테스트에서 db를 고려할 필요가 없어짐
- 도메인 모델 없이 데이터 매퍼는 의미가 없다
- 매퍼에서 db 작업 처리 및 load 메소드 활용하여 전체를 불러와 매핑하는 방식